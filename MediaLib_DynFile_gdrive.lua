local a=medialib.load("oop")local b=a.class("GDriveService","HTMLService")b.identifier="GDrive"local c={"^https?://drive.google.com/file/d/([^/]*)/edit"}function b:parseUrl(d)for e,f in pairs(c)do local g=string.match(d,f)if g then return{id=g}end end end;function b:isValidUrl(d)return self:parseUrl(d)~=nil end;local function h(i)if i then i=string.gsub(i,"\n","\r\n")i=string.gsub(i,"([^%w ])",function(j)return string.format("%%%02X",string.byte(j))end)i=string.gsub(i," ","+")end;return i end;local k="https://wyozi.github.io/gmod-medialib/mp4.html?id=%s"local l="https://drive.google.com/uc?export=download&confirm=yTib&id=%s"function b:resolveUrl(d,m)local n=self:parseUrl(d)local o=string.format(k,h(string.format(l,n.id)))m(o,{start=n.start})end;function b:directQuery(d,m)m(nil,{title=d:match("([^/]+)$")})end;function b:hasReliablePlaybackEvents()return true end;return b
